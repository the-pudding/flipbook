import{s as Re,f as F,e as oe,Q as Ve,g as A,d as u,j as s,v as d,x as he,B as je,i as O,V as Je,C as Oe,W as H,a as K,l as Q,h as R,X as W,c as X,m as U,A as Me,w as re,n as me,D as Ke,E as Xe,F as Ye,J as He,L as We,o as Be,u as _e,Y as Ge,k as Y}from"./scheduler.a009160e.js";import{e as be}from"./each.e59479a4.js";import{S as qe,i as De,a as ae,g as Qe,t as ue,c as Ue,h as we}from"./index.aacbeec2.js";function Ee(n,e,t){const r=n.slice();return r[5]=e[t],r}function ke(n){let e,t;return{c(){e=F("link"),this.h()},l(r){e=A(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){s(e,"rel","preload"),s(e,"href",t=n[5]),s(e,"as","font"),s(e,"type","font/woff2"),s(e,"crossorigin","")},m(r,o){O(r,e,o)},p(r,o){o&16&&t!==(t=r[5])&&s(e,"href",t)},d(r){r&&u(e)}}}function Ze(n){let e,t,r,o,l,h,f,i,_,g,v,p,w,k,M,C,I,N,b,y,x,T,E,D,j,S;document.title=e=n[0];let J=be(n[4]),P=[];for(let m=0;m<J.length;m+=1)P[m]=ke(Ee(n,J,m));return{c(){t=F("meta"),r=F("meta"),o=F("meta"),l=F("meta"),h=F("meta"),f=F("meta"),i=F("meta"),_=F("meta"),g=F("meta"),v=F("meta"),w=F("meta"),k=F("meta"),M=F("meta"),C=F("meta"),I=F("meta"),N=F("meta"),b=F("meta"),y=F("meta"),x=F("meta"),E=F("meta"),D=F("link");for(let m=0;m<P.length;m+=1)P[m].c();S=oe(),this.h()},l(m){const a=Ve("svelte-1htu80s",document.head);t=A(a,"META",{name:!0,content:!0}),r=A(a,"META",{name:!0,content:!0}),o=A(a,"META",{name:!0,content:!0}),l=A(a,"META",{property:!0,content:!0}),h=A(a,"META",{property:!0,content:!0}),f=A(a,"META",{property:!0,content:!0}),i=A(a,"META",{property:!0,content:!0}),_=A(a,"META",{property:!0,content:!0}),g=A(a,"META",{property:!0,content:!0}),v=A(a,"META",{property:!0,content:!0}),w=A(a,"META",{property:!0,content:!0}),k=A(a,"META",{property:!0,content:!0}),M=A(a,"META",{property:!0,content:!0}),C=A(a,"META",{name:!0,content:!0}),I=A(a,"META",{name:!0,content:!0}),N=A(a,"META",{name:!0,content:!0}),b=A(a,"META",{name:!0,content:!0}),y=A(a,"META",{name:!0,content:!0}),x=A(a,"META",{name:!0,content:!0}),E=A(a,"META",{name:!0,content:!0}),D=A(a,"LINK",{rel:!0,href:!0});for(let c=0;c<P.length;c+=1)P[c].l(a);S=oe(),a.forEach(u),this.h()},h(){s(t,"name","description"),s(t,"content",n[1]),s(r,"name","author"),s(r,"content","The Pudding"),s(o,"name","news_keywords"),s(o,"content",n[3]),s(l,"property","og:title"),s(l,"content",n[0]),s(h,"property","og:site_name"),s(h,"content","The Pudding"),s(f,"property","og:url"),s(f,"content",n[2]),s(i,"property","og:description"),s(i,"content",n[1]),s(_,"property","og:type"),s(_,"content","article"),s(g,"property","og:locale"),s(g,"content","en_US"),s(v,"property","og:image"),s(v,"content",p=n[2]+"/assets/social-facebook.jpg"),s(w,"property","og:image:type"),s(w,"content","image/jpeg"),s(k,"property","og:image:width"),s(k,"content","1200"),s(M,"property","og:image:height"),s(M,"content","600"),s(C,"name","twitter:card"),s(C,"content","summary_large_image"),s(I,"name","twitter:site"),s(I,"content","https://pudding.cool"),s(N,"name","twitter:creator"),s(N,"content","@puddingviz"),s(b,"name","twitter:title"),s(b,"content",n[0]),s(y,"name","twitter:description"),s(y,"content",n[1]),s(x,"name","twitter:image:src"),s(x,"content",T=n[2]+"/assets/social-twitter.jpg"),s(E,"name","robots"),s(E,"content","max-image-preview:large"),s(D,"rel","canonical"),s(D,"href",j=n[2]+"/")},m(m,a){d(document.head,t),d(document.head,r),d(document.head,o),d(document.head,l),d(document.head,h),d(document.head,f),d(document.head,i),d(document.head,_),d(document.head,g),d(document.head,v),d(document.head,w),d(document.head,k),d(document.head,M),d(document.head,C),d(document.head,I),d(document.head,N),d(document.head,b),d(document.head,y),d(document.head,x),d(document.head,E),d(document.head,D);for(let c=0;c<P.length;c+=1)P[c]&&P[c].m(document.head,null);d(document.head,S)},p(m,[a]){if(a&1&&e!==(e=m[0])&&(document.title=e),a&2&&s(t,"content",m[1]),a&8&&s(o,"content",m[3]),a&1&&s(l,"content",m[0]),a&4&&s(f,"content",m[2]),a&2&&s(i,"content",m[1]),a&4&&p!==(p=m[2]+"/assets/social-facebook.jpg")&&s(v,"content",p),a&1&&s(b,"content",m[0]),a&2&&s(y,"content",m[1]),a&4&&T!==(T=m[2]+"/assets/social-twitter.jpg")&&s(x,"content",T),a&4&&j!==(j=m[2]+"/")&&s(D,"href",j),a&16){J=be(m[4]);let c;for(c=0;c<J.length;c+=1){const z=Ee(m,J,c);P[c]?P[c].p(z,a):(P[c]=ke(z),P[c].c(),P[c].m(S.parentNode,S))}for(;c<P.length;c+=1)P[c].d(1);P.length=J.length}},i:he,o:he,d(m){u(t),u(r),u(o),u(l),u(h),u(f),u(i),u(_),u(g),u(v),u(w),u(k),u(M),u(C),u(I),u(N),u(b),u(y),u(x),u(E),u(D),je(P,m),u(S)}}}function $e(n,e,t){let{title:r="Title TK"}=e,{description:o="Description TK"}=e,{url:l="https://pudding.cool"}=e,{keywords:h=""}=e,{preloadFont:f=[]}=e;return n.$$set=i=>{"title"in i&&t(0,r=i.title),"description"in i&&t(1,o=i.description),"url"in i&&t(2,l=i.url),"keywords"in i&&t(3,h=i.keywords),"preloadFont"in i&&t(4,f=i.preloadFont)},[r,o,l,h,f]}class gt extends qe{constructor(e){super(),De(this,e,$e,Ze,Re,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Pe(n,{delay:e=0,duration:t=400,easing:r=Je}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:l=>`opacity: ${l*o}`}}function de(n,e=!1){let t=0;for(let r=1;r<n.length;r++){const o=n[r-1],l=n[r];e?t+=Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2)):t+=Math.sqrt(Math.pow(l[0]-o[0],2)+Math.pow(l[1]-o[1],2))}return t}var Fe=function(n){return n[n.length-1]},Ae=function(n){return n.reduce(function(e,t){return e+t},0)},ce=function(n){var e=n.reduce(function(t,r){return r+t},0);return e/n.length},ye=function(n,e){return{x:n.x-e.x,y:n.y-e.y}},ze=function(n){var e=n.x,t=n.y;return Math.sqrt(e*e+t*t)},G=function(n,e){return ze(ye(n,e))},ge=function(n){var e=n[0],t=n.slice(1);return t.reduce(function(r,o){var l=G(o,e);return e=o,r+l},0)},et=function(n,e,t){var r=ye(e,n),o=t/ze(r);return{x:e.x+o*r.x,y:e.y+o*r.y}},ve=function(n,e){for(var t=e.numPoints,r=t===void 0?50:t,o=ge(n),l=o/(r-1),h=[n[0]],f=Fe(n),i=n.slice(1),_=0;_<r-2;_++)for(var g=Fe(h),v=l,p=!1;!p;){var w=G(g,i[0]);if(w<v)v-=w,g=i.shift();else{var k=et(g,i[0],v-w);h.push(k),p=!0}}return h.push(f),h},tt=function(n,e){return n.map(function(t){return{x:Math.cos(-1*e)*t.x-Math.sin(-1*e)*t.y,y:Math.sin(-1*e)*t.x+Math.cos(-1*e)*t.y}})},pe=function(n,e){for(var t=n.length>=e.length?n:e,r=n.length>=e.length?e:n,o=function(_,g,v,p){if(_===0&&g===0)return G(t[0],r[0]);if(_>0&&g===0)return Math.max(v[0],G(t[_],r[0]));var w=p[p.length-1];return _===0&&g>0?Math.max(w,G(t[0],r[g])):Math.max(Math.min(v[g],v[g-1],w),G(t[_],r[g]))},l=[],h=0;h<t.length;h++){for(var f=[],i=0;i<r.length;i++)f.push(o(h,i,l,f));l=f}return l[r.length-1]},Te=function(n,e){e===void 0&&(e={});var t=e.rebalance,r=t===void 0?!0:t,o=e.estimationPoints,l=o===void 0?50:o,h=r?ve(n,{numPoints:l}):n,f=ce(h.map(function(p){return p.x})),i=ce(h.map(function(p){return p.y})),_={x:f,y:i},g=h.map(function(p){return ye(p,_)}),v=Math.sqrt(ce(g.map(function(p){var w=p.x,k=p.y;return w*w+k*k})));return g.map(function(p){return{x:p.x/v,y:p.y/v}})},nt=function(n,e){if(n.length!==e.length)throw new Error("curve and relativeCurve must have the same length");var t=Ae(n.map(function(o,l){var h=o.x,f=o.y;return f*e[l].x-h*e[l].y})),r=Ae(n.map(function(o,l){var h=o.x,f=o.y;return h*e[l].x+f*e[l].y}));return Math.atan2(t,r)},Ce=function(n,e,t){t===void 0&&(t={});var r=t.estimationPoints,o=r===void 0?50:r,l=t.rotations,h=l===void 0?10:l,f=t.restrictRotationAngle,i=f===void 0?Math.PI:f,_=t.checkRotations,g=_===void 0?!0:_;if(Math.abs(i)>Math.PI)throw new Error("restrictRotationAngle cannot be larger than PI");var v=Te(n,{estimationPoints:o}),p=Te(e,{estimationPoints:o}),w=Math.sqrt(ge(v)*ge(p)),k=[0];if(g){var M=nt(v,p);M>Math.PI&&(M=M-2*Math.PI),M!==0&&Math.abs(M)<i&&k.push(M);for(var C=0;C<h;C++){var I=-1*i+2*C*i/(h-1);I!==0&&I!==Math.PI&&k.push(I)}}var N=1/0;return k.forEach(function(b){var y=tt(v,b),x=pe(y,p);x<N&&(N=x)}),Math.max(1-N/(w/Math.sqrt(2)),0)};function rt({cur:n,prev:e,diagonal:t}){const r=Math.max(e.length,n.length),o=ve(n,{numPoints:r}),l=ve(e,{numPoints:r}),h=[...l].reverse(),f={estimationPoints:200,rotations:30},i=Ce(l,o,f),_=Ce(h,o,f),g=de(o,!0),v=de(l,!0),p=Math.max(g,v),w=Math.abs(g/v-1),k=pe(l,o),M=pe(h,o),C=k/t,I=M/t,N=k/p,b=M/p;let y=.075;v<100&&(y=.2),v<200&&(y=.15),v<300&&(y=.1);const x=w<y&&i>.9&&(C<.2||N<.2),T=w<y&&_>.9&&(I<.2||b<.2);return{valid:x||T,debug1:{ll_target:y,ll:+w.toFixed(2),sim:+i.toFixed(2),diag:+C.toFixed(2),len:+N.toFixed(2),pass:x},debug2:{ll_target:y,ll:+w.toFixed(2),sim:+_.toFixed(2),diag:+I.toFixed(2),len:+b.toFixed(2),pass:T}}}const at=n=>({}),Le=n=>({});function Ie(n){let e;return{c(){e=H("path"),this.h()},l(t){e=W(t,"path",{class:!0,d:!0}),R(e).forEach(u),this.h()},h(){s(e,"class","prev svelte-tn32uh"),s(e,"d",n[6])},m(t,r){O(t,e,r)},p(t,r){r[0]&64&&s(e,"d",t[6])},d(t){t&&u(e)}}}function Se(n){let e,t="I think you can do better!",r,o;return{c(){e=F("p"),e.textContent=t,this.h()},l(l){e=A(l,"P",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-5wu51j"&&(e.textContent=t),this.h()},h(){s(e,"class","invalid svelte-tn32uh")},m(l,h){O(l,e,h),o=!0},i(l){o||(l&&Ge(()=>{o&&(r||(r=we(e,Pe,{},!0)),r.run(1))}),o=!0)},o(l){l&&(r||(r=we(e,Pe,{},!1)),r.run(0)),o=!1},d(l){l&&u(e),l&&r&&r.end()}}}function ot(n){let e,t=`${n[4]*100}%`;return{c(){e=F("span"),this.h()},l(r){e=A(r,"SPAN",{class:!0}),R(e).forEach(u),this.h()},h(){s(e,"class","bar svelte-tn32uh"),Y(e,"width",t)},m(r,o){O(r,e,o)},p(r,o){o[0]&16&&t!==(t=`${r[4]*100}%`)&&Y(e,"width",t)},d(r){r&&u(e)}}}function st(n){let e,t="no ink left!";return{c(){e=F("span"),e.textContent=t},l(r){e=A(r,"SPAN",{"data-svelte-h":!0}),_e(e)!=="svelte-1nmq8st"&&(e.textContent=t)},m(r,o){O(r,e,o)},p:he,d(r){r&&u(e)}}}function Ne(n){let e,t,r=`target: ll < ~0.1 && sim > 0.9 && (diag < 0.2 || len <
			0.2)`,o,l,h,f=JSON.stringify(n[9])+"",i,_,g,v,p=JSON.stringify(n[10])+"",w;return{c(){e=F("div"),t=F("p"),t.textContent=r,o=K(),l=F("p"),h=Q("debug1: "),i=Q(f),_=K(),g=F("p"),v=Q("debug2: "),w=Q(p),this.h()},l(k){e=A(k,"DIV",{class:!0});var M=R(e);t=A(M,"P",{style:!0,"data-svelte-h":!0}),_e(t)!=="svelte-nkrnij"&&(t.textContent=r),o=X(M),l=A(M,"P",{style:!0});var C=R(l);h=U(C,"debug1: "),i=U(C,f),C.forEach(u),_=X(M),g=A(M,"P",{style:!0});var I=R(g);v=U(I,"debug2: "),w=U(I,p),I.forEach(u),M.forEach(u),this.h()},h(){Y(t,"font-family","var(--mono)"),Y(t,"font-size","12px"),Y(l,"font-family","var(--mono)"),Y(l,"font-size","12px"),Y(g,"font-family","var(--mono)"),Y(g,"font-size","12px"),s(e,"class","debug")},m(k,M){O(k,e,M),d(e,t),d(e,o),d(e,l),d(l,h),d(l,i),d(e,_),d(e,g),d(g,v),d(g,w)},p(k,M){M[0]&512&&f!==(f=JSON.stringify(k[9])+"")&&me(i,f),M[0]&1024&&p!==(p=JSON.stringify(k[10])+"")&&me(w,p)},d(k){k&&u(e)}}}function lt(n){let e,t,r,o,l,h,f,i,_,g,v,p,w,k,M,C,I,N,b,y,x,T=n[6]&&!n[11]&&Ie(n),E=n[8]===!1&&Se();function D(a,c){return a[5]?st:ot}let j=D(n),S=j(n);const J=n[25].ui,P=Oe(J,n,n[24],Le);let m=n[0]&&Ne(n);return{c(){e=F("div"),t=F("div"),r=H("svg"),o=H("g"),l=H("path"),h=K(),f=H("svg"),i=H("g"),T&&T.c(),_=H("path"),g=K(),v=F("p"),p=Q(n[2]),w=K(),E&&E.c(),k=K(),M=F("div"),S.c(),C=K(),P&&P.c(),I=K(),m&&m.c(),N=oe(),this.h()},l(a){e=A(a,"DIV",{class:!0});var c=R(e);t=A(c,"DIV",{class:!0});var z=R(t);r=W(z,"svg",{class:!0});var Z=R(r);o=W(Z,"g",{});var $=R(o);l=W($,"path",{d:!0,class:!0}),R(l).forEach(u),$.forEach(u),Z.forEach(u),h=X(z),f=W(z,"svg",{class:!0});var ee=R(f);i=W(ee,"g",{});var B=R(i);T&&T.l(B),_=W(B,"path",{d:!0,class:!0}),R(_).forEach(u),B.forEach(u),ee.forEach(u),g=X(z),v=A(z,"P",{class:!0});var te=R(v);p=U(te,n[2]),te.forEach(u),w=X(z),E&&E.l(z),z.forEach(u),k=X(c),M=A(c,"DIV",{class:!0});var ne=R(M);S.l(ne),ne.forEach(u),c.forEach(u),C=X(a),P&&P.l(a),I=X(a),m&&m.l(a),N=oe(),this.h()},h(){s(l,"d",n[7]),s(l,"class","svelte-tn32uh"),s(r,"class","preview svelte-tn32uh"),s(_,"d",n[3]),s(_,"class","svelte-tn32uh"),s(f,"class","draw shadow svelte-tn32uh"),s(v,"class","svelte-tn32uh"),s(t,"class","canvas svelte-tn32uh"),s(M,"class","ink svelte-tn32uh"),s(e,"class","c svelte-tn32uh"),Me(e,"disabled",n[1])},m(a,c){O(a,e,c),d(e,t),d(t,r),d(r,o),d(o,l),d(t,h),d(t,f),d(f,i),T&&T.m(i,null),d(i,_),d(t,g),d(t,v),d(v,p),d(t,w),E&&E.m(t,null),d(e,k),d(e,M),S.m(M,null),O(a,C,c),P&&P.m(a,c),O(a,I,c),m&&m.m(a,c),O(a,N,c),b=!0,y||(x=[re(e,"pointerdown",n[12]),re(e,"pointermove",n[13]),re(e,"pointerup",n[14]),re(e,"pointerleave",n[14])],y=!0)},p(a,c){(!b||c[0]&128)&&s(l,"d",a[7]),a[6]&&!a[11]?T?T.p(a,c):(T=Ie(a),T.c(),T.m(i,_)):T&&(T.d(1),T=null),(!b||c[0]&8)&&s(_,"d",a[3]),(!b||c[0]&4)&&me(p,a[2]),a[8]===!1?E?c[0]&256&&ae(E,1):(E=Se(),E.c(),ae(E,1),E.m(t,null)):E&&(Qe(),ue(E,1,1,()=>{E=null}),Ue()),j===(j=D(a))&&S?S.p(a,c):(S.d(1),S=j(a),S&&(S.c(),S.m(M,null))),(!b||c[0]&2)&&Me(e,"disabled",a[1]),P&&P.p&&(!b||c[0]&16777216)&&Ke(P,J,a,a[24],b?Ye(J,a[24],c,at):Xe(a[24]),Le),a[0]?m?m.p(a,c):(m=Ne(a),m.c(),m.m(N.parentNode,N)):m&&(m.d(1),m=null)},i(a){b||(ae(E),ae(P,a),b=!0)},o(a){ue(E),ue(P,a),b=!1},d(a){a&&(u(e),u(C),u(I),u(N)),T&&T.d(),E&&E.d(),S.d(),P&&P.d(a),m&&m.d(a),y=!1,He(x)}}}const fe=300,it=12;function ut(n){let e=[];for(let t of n)e.push(...t);return e}function xe(n){const e=+n.offsetX.toFixed(1),t=+n.offsetY.toFixed(1);return[e,t]}function ct(){}function ft(n,e,t){let r,o,{$$slots:l={},$$scope:h}=e,{preset:f}=e,{debug:i}=e,{path:_}=e,{paths:g}=e,{disabled:v}=e;const p=fe,w=fe*5,k=We(),M=!!f;let C=1,I=!1,N=!1,b=0,y=[],x="",T="",E,D={},j={},S;const J=ne,P=te,m=ct,a=ee;function c(L){t(5,I=!1),t(4,C=1),N=!0;const V=xe(L);t(22,y[b]=[],y),y[b].push(V)}function z(L){if(!N||I)return;const V=xe(L);y[b].push(V);const q=de(y[b]);q>w&&t(5,I=!0),t(4,C=Math.max(0,(w-q)/w)),t(22,y=[...y])}function Z(){N=!1}function $(){if(M&&b>0){const L=[...y[b]].map(([le,ie])=>({x:le,y:ie})),V=[...y[b-1]].map(([le,ie])=>({x:le,y:ie})),q=Math.sqrt(fe**2+p**2),se=rt({cur:L,prev:V,diagonal:q});t(8,E=se.valid),t(9,D=se.debug1),t(10,j=se.debug2),k("validate",E)}else t(8,E=!0);E?(t(6,x=o),t(2,b+=1)):setTimeout(()=>{t(8,E=void 0)},2e3),t(23,r=[]),t(4,C=1)}function ee(){t(22,y[b]=[],y),t(7,T=""),t(4,C=1)}function B(L=0){const V=y[L].map(q=>q.join(" ")).join("L");t(7,T=S?`M${V}`:""),setTimeout(()=>{let q=L+1;q>b-1&&(q=0),S&&B(q)},1e3/it)}function te(){$()}function ne(){t(11,S=!S),S?B():t(7,T="")}return Be(()=>{t(6,x=f||""),x&&(t(2,b=1),t(22,y[0]=ut(x.split("M").filter(L=>L).map(L=>L.split("L").map(V=>V.split(" ").map(q=>+q)))),y))}),n.$$set=L=>{"preset"in L&&t(17,f=L.preset),"debug"in L&&t(0,i=L.debug),"path"in L&&t(15,_=L.path),"paths"in L&&t(16,g=L.paths),"disabled"in L&&t(1,v=L.disabled),"$$scope"in L&&t(24,h=L.$$scope)},n.$$.update=()=>{var L;n.$$.dirty[0]&4194308&&t(23,r=(L=y[b])==null?void 0:L.map(V=>V.join(" ")).join("L")),n.$$.dirty[0]&8388608&&t(3,o=r!=null&&r.length?`M${r}`:""),n.$$.dirty[0]&4194304&&t(16,g=y.map(V=>`M${V.map(q=>q.join(" ")).join("L")}`)),n.$$.dirty[0]&8&&t(15,_=o)},[i,v,b,o,C,I,x,T,E,D,j,S,c,z,Z,_,g,f,J,P,m,a,y,r,h,l]}class vt extends qe{constructor(e){super(),De(this,e,ft,lt,Re,{preset:17,debug:0,path:15,paths:16,disabled:1,preview:18,addFrame:19,deleteFrame:20,resetFrame:21},null,[-1,-1])}get preview(){return this.$$.ctx[18]}get addFrame(){return this.$$.ctx[19]}get deleteFrame(){return this.$$.ctx[20]}get resetFrame(){return this.$$.ctx[21]}}function pt(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.13.0"),console.log("build: 2023-12-07-13:16"),console.log("--- --- --- --- --- ---")}export{vt as C,gt as M,pt as v};
