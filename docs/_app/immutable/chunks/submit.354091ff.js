import{s as p,f as _,l as y,g,h as T,m as b,d as f,A as m,i as S,v as w,R as j,w as k,n as v,S as x,x as d,J as C,U as O}from"./scheduler.a009160e.js";import{S as P,i as A}from"./index.aacbeec2.js";import{c as B}from"./copy.65aa4a8b.js";import{p as D}from"./stores.6297b4f9.js";import"./paths.b84d5b6a.js";function J(s){let t,n=(s[3]?s[1]:s[0])+"",i,a,o,u;return{c(){t=_("button"),i=y(n),this.h()},l(e){t=g(e,"BUTTON",{});var l=T(t);i=b(l,n),l.forEach(f),this.h()},h(){m(t,"notified",s[3])},m(e,l){S(e,t,l),w(t,i),o||(u=[j(a=B.call(null,t,s[2])),k(t,"svelte-copy",s[4])],o=!0)},p(e,[l]){l&11&&n!==(n=(e[3]?e[1]:e[0])+"")&&v(i,n),a&&x(a.update)&&l&4&&a.update.call(null,e[2]),l&8&&m(t,"notified",e[3])},i:d,o:d,d(e){e&&f(t),o=!1,C(u)}}}function L(s,t,n){let{buttonText:i="Share"}=t,{notifyText:a="Link copied!"}=t,{title:o}=t,{url:u}=t,e=!1;function l(){n(3,e=!0),setTimeout(()=>n(3,e=!1),1500)}function c(){e||(navigator.share?navigator.share({title:o,url:u}).then(()=>{}).catch(copyLink):l())}return s.$$set=r=>{"buttonText"in r&&n(0,i=r.buttonText),"notifyText"in r&&n(1,a=r.notifyText),"title"in r&&n(5,o=r.title),"url"in r&&n(2,u=r.url)},[i,a,u,e,c,o]}class X extends P{constructor(t){super(),A(this,t,L,J,p,{buttonText:0,notifyText:1,title:5,url:2})}}function z(s){const i=O(D).url.search.split("&").find(a=>a.includes(`${s}=`));if(i)return i.split("=")[1]}async function F(s,t){var a;const n="https://pudding-server-utils.herokuapp.com/trace",i="";try{const o=Date.now(),u=JSON.stringify({endpoint:s,data:t}),c=await(await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Pudding-Token":i},credentials:"include",body:u})).json(),h=`${Date.now()-o}ms`;return{...c,duration:h}}catch(o){throw console.log((a=o==null?void 0:o.data)==null?void 0:a.message),o}}export{X as S,z as g,F as s};
