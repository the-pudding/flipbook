function o(t,e,s){this.k=t,this.x=e,this.y=s}o.prototype={constructor:o,scale:function(t){return t===1?this:new o(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new o(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};o.prototype;async function y(t){if("clipboard"in navigator)await navigator.clipboard.writeText(t);else{const e=document.createElement("input");e.type="text",e.disabled=!0,e.style.setProperty("position","fixed"),e.style.setProperty("z-index","-100"),e.style.setProperty("pointer-events","none"),e.style.setProperty("opacity","0"),e.value=t,document.body.appendChild(e),e.click(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}const d=(t,e)=>{async function s(){if(c)try{await y(c),t.dispatchEvent(new CustomEvent("svelte-copy",{detail:c}))}catch(n){t.dispatchEvent(new CustomEvent("svelte-copy:error",{detail:n}))}}let r=typeof e=="string"?["click"]:[e.events].flat(1),c=typeof e=="string"?e:e.text;return r.forEach(n=>{t.addEventListener(n,s,!0)}),{update:n=>{const h=typeof n=="string"?["click"]:[n.events].flat(1),u=typeof n=="string"?n:n.text,a=h.filter(i=>!r.includes(i)),p=r.filter(i=>!h.includes(i));a.forEach(i=>{t.addEventListener(i,s,!0)}),p.forEach(i=>{t.removeEventListener(i,s,!0)}),r=h,c=u},destroy:()=>{r.forEach(n=>{t.removeEventListener(n,s,!0)})}}};export{d as c};
